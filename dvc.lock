schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/plant_disease_classification/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: d9fae66ce7f589374145e191a96837e8
      size: 842
    - path: src/plant_disease_classification/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: 0ce791bf2c0b29c8ce5a0207953e671c
      size: 1305
    outs:
    - path: data/data_ingestion/PlantVillage
      hash: md5
      md5: 1da76b7347baaf39458f4f46847c60f6.dir
      size: 19014555196
      nfiles: 79925
  prepare_base_model:
    cmd: python src/plant_disease_classification/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: d9fae66ce7f589374145e191a96837e8
      size: 842
    - path: src/plant_disease_classification/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: cef2381f16775f180f9c24adae7fc4af
      size: 1036
    params:
      params.yaml:
        CLASSES: 88
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: data/prepare_base_model
      hash: md5
      md5: b7bf52c08648961bda4450530b241e87.dir
      size: 126683640
      nfiles: 2
  training:
    cmd: python src/plant_disease_classification/pipeline/stage_03_training.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 8d504e32304c164b30e9e5a67575da20
      size: 738
    - path: data/data_ingestion/PlantVillage
      hash: md5
      md5: fe176bed0c0c37b250ebaa49a125d8fc.dir
      size: 342230723
      nfiles: 20639
    - path: data/prepare_base_model
      hash: md5
      md5: a10e504cec6d1c46da80c460d5137b11.dir
      size: 119363824
      nfiles: 2
    - path: src/plant_disease_classification/components/prepare_callbacks.py
      hash: md5
      md5: 75b36f6140427c79147a84ff6fcd25f2
      size: 1026
    - path: src/plant_disease_classification/pipeline/stage_03_training.py
      hash: md5
      md5: 70102489cfa94336c6e4ede7ed1a41f0
      size: 1326
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 32
        EPOCHS: 15
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: data/training/model.h5
      hash: md5
      md5: 6ee30227aab8b8c52585dcce331baa92
      size: 63454720
  evaluation:
    cmd: python src/plant_disease_classification/pipeline/stage_04_evaluation.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: 8d504e32304c164b30e9e5a67575da20
      size: 738
    - path: data/data_ingestion/PlantVillage
      hash: md5
      md5: fe176bed0c0c37b250ebaa49a125d8fc.dir
      size: 342230723
      nfiles: 20639
    - path: data/training/model.h5
      hash: md5
      md5: 6ee30227aab8b8c52585dcce331baa92
      size: 63454720
    - path: src/plant_disease_classification/pipeline/stage_04_evaluation.py
      hash: md5
      md5: d334ab9b4226387e71c10ae9aae9d322
      size: 928
    params:
      params.yaml:
        BATCH_SIZE: 32
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 0ff78614500bedab3f3bc4a93b8a1871
      size: 74
